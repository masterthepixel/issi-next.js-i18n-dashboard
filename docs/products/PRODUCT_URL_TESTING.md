# Product URL Testing Automation

This directory contains automated testing scripts to verify that all product pages in the BentoGrid are accessible and return proper responses.

## Test Scripts

### 1. `test-product-urls.js`

Tests all English product URLs only (`/en/products/[slug]`).

**Usage:**

```bash
# Direct execution
node test-product-urls.js

# Via npm script
npm run test:products
```

**What it tests:**

- All 30 product URLs in English locale
- Verifies each URL returns HTTP 200 status
- Provides detailed progress and summary report

### 2. `test-all-product-urls.js`

Comprehensive testing across all locales (`/en/products/[slug]`, `/es/products/[slug]`, `/fr/products/[slug]`).

**Usage:**

```bash
# Direct execution
node test-all-product-urls.js

# Via npm script
npm run test:products:all
```

**What it tests:**

- All 30 products × 3 locales = 90 total URLs
- Verifies each URL returns HTTP 200 status
- Provides locale-specific and overall statistics
- Progress indicators for long-running tests

### 3. `test-actual-product-urls.js`

**🎯 Key Script**: Tests the actual URLs that BentoGrid cards generate (verifies the real user experience).

**Usage:**

```bash
# Direct execution
node test-actual-product-urls.js
```

**What it tests:**

- Mimics the exact `getProductSlug()` function logic from the BentoGrid
- Tests URLs that users actually click when they interact with product cards
- Compares actual card-generated URLs with expected slugs
- Detects mismatches between intended and actual URLs
- Provides detailed debugging information for URL generation issues

**Key Features:**

- **Real-world testing**: Tests what users actually experience
- **Mismatch detection**: Identifies when cards generate unexpected URLs
- **Debugging output**: Shows both generated and expected URLs
- **100% accuracy**: Ensures every card leads to a working page

## Product Coverage

Both scripts test all products from the BentoGrid:

1. Grant Management System (`gms`)
2. Electronic Correspondence Tracking System (`ects`)
3. Environmental Tracking System (`ets`)
4. Multi-Dimensional System Planning Solution (`mdsps`)
5. Project Management Suite (`project-management`)
6. Bug Tracking System (`bug-tracking`)
7. Capture Manager (`capture-manager`)
8. Prudent Agile Methodology (`prudent-agile`)
9. Task Management System (`task-management`)
10. Requirements Management System (`requirements-management`)
11. HR Management System (`hr-manager`)
12. Employee Performance System (`employee-performance`)
13. Timesheet Management System (`timesheet-management`)
14. Employee Talent Repository (`employee-talent-repository`)
15. Competency Skills Matrix (`competency-skills-matrix`)
16. Training Dashboard (`training-dashboard`)
17. I-Learn System (`i-learn`)
18. RSVP Event Management (`rsvp`)
19. Audit Reporting System (`audit-reporting`)
20. Expense Tracking System (`expense-tracking`)
21. Meeting Minutes Manager (`meeting-minutes-manager`)
22. Training Records System (`training-records`)
23. Central Data Platform (`central-data`)
24. E-Survey Platform (`e-survey`)
25. Form Management System (`form-management`)
26. I-Code Testing Platform (`i-code`)
27. Professional Management System (`professional-management`)
28. Complaint Tracking System (`complaint-tracking`)
29. Inventory Asset Tracking System (`inventory-asset-tracking`)
30. Visitor Log System (`visitor-log`)

## URL Mapping

Each product ID from the BentoGrid maps to a specific URL slug:

```javascript
const productSlugMap = {
  "gms": "grant-management-system",
  "ects": "electronic-correspondence-tracking-system",
  "ets": "environmental-tracking-system",
  // ... etc
};
```

## Expected Results

### Successful Test Run Example

```console
🚀 Testing all product URLs...

[1/30] Testing: gms -> grant-management-system
   ✅ SUCCESS
[2/30] Testing: ects -> electronic-correspondence-tracking-system
   ✅ SUCCESS
...

📊 SUMMARY:
✅ Successful: 30/30
❌ Failed: 0/30
🎯 Overall Success Rate: 100%
```

## Prerequisites

1. **Next.js Development Server**: Must be running on `http://localhost:3000` (or `localhost:3001` for actual card testing)

   ```bash
   npm run dev
   ```

2. **Product Pages**: All product pages must be properly generated and accessible

   ```bash
   npm run build  # Generates static pages
   npm run start  # Or use dev server
   ```

## Example Test Outputs

### test-actual-product-urls.js Output

```console
🎯 Testing ACTUAL product URLs generated by BentoGrid cards...

[1/30] Testing: gms
   Card generates: /en/products/grant-management-system
   Expected slug: grant-management-system
   ✅ SUCCESS

[2/30] Testing: ects
   Card generates: /en/products/electronic-correspondence-tracking-system
   Expected slug: electronic-correspondence-tracking-system
   ✅ SUCCESS

...

📊 SUMMARY:
================================================================================
✅ Successful: 30/30
❌ Failed: 0/30
⚠️  Mismatched (working but unexpected URL): 0/30

✅ SUCCESSFUL URLs:
   gms -> /en/products/grant-management-system
   ects -> /en/products/electronic-correspondence-tracking-system
   ...

🎯 Overall Success: PASS (100% working)

🎉 All BentoGrid cards link to working product pages!
```

## Error Handling

The scripts handle various error conditions:

- **Network timeouts** (10 second limit)
- **HTTP error status codes** (4xx, 5xx)
- **Connection errors**
- **Server unavailable**

## Integration with CI/CD

These scripts can be integrated into your CI/CD pipeline:

```yaml
# Example GitHub Actions step
- name: Test Product URLs
  run: |
    npm run build
    npm run start &
    sleep 10  # Wait for server to start
    npm run test:products:all
    node test-actual-product-urls.js
    kill %1  # Stop the server
```

## Testing Strategy

### Development Workflow

1. **Quick Check**: Use `npm run test:products` for fast English-only testing
2. **Full Verification**: Use `npm run test:products:all` before releases
3. **Real-World Testing**: Use `node test-actual-product-urls.js` to verify actual card behavior
4. **Debugging**: When URLs fail, check the actual vs expected output from script #3

### When to Run Tests

- **Before every commit** that touches product-related code
- **After adding new products** to the BentoGrid
- **Before production deployments**
- **After URL slug changes** or product data updates

## Maintenance

When adding new products to the BentoGrid:

1. Add the product ID to the `productIds` array
2. Add the corresponding slug mapping to `productSlugMap`
3. Ensure the product data exists in `src/lib/products.ts`
4. Run the tests to verify the new product page is accessible

## Related Files

- `src/components/ProductsBentoGrid.tsx` - Contains the product grid and slug mappings
- `src/lib/products.ts` - Product data source
- `src/app/[lang]/products/[slug]/page.tsx` - Dynamic product page component
- `src/types/product.ts` - Product TypeScript interfaces
